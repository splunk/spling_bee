
        <dashboard version="2" theme="light" hiddenElements="{&quot;hideEdit&quot;:false,&quot;hideOpenInSearch&quot;:true,&quot;hideExport&quot;:true}">
            <label>Leaderboard</label>
            <description></description>
            <definition><![CDATA[{"dataSources":{"ds_search_1":{"type":"ds.search","options":{"query":"index=spl_bee |spath| eval search_length=len('request.custom.search')| table username request.custom.search search_length | sort - search_length | rename username AS Contestant request.custom.search as search\n| head 5","queryParameters":{"earliest":"$time_token.earliest$","latest":"$time_token.latest$"}},"name":"longest_queries"},"ds_search_2":{"type":"ds.search","options":{"query":"index=spl_bee \n| spath| stats dc(request.custom.search) as count by username | sort - count | rename username AS Contestant","queryParameters":{"earliest":"$time_token.earliest$","latest":"$time_token.latest$"}},"name":"most_submitted"},"ds_search_3":{"type":"ds.search","options":{"query":"index=spl_bee \n| spath| stats max(runDuration) as max_duration by request.custom.search username | sort - max_duration | rename username AS Contestant request.custom.search as search\n| head 5","queryParameters":{"earliest":"$time_token.earliest$","latest":"$time_token.latest$"}},"name":"longest_duration"},"ds_search_4":{"type":"ds.search","options":{"query":"index=spl_bee \n| spath| stats latest(results{}.answer) as User_Answer latest(_time) as LatestSubmissionTime latest(runDuration) as Duration dc(request.custom.search) as unique_searches by username category question |rename question as Number category as Category username as Contestant| convert ctime(LatestSubmissionTime)|lookup splbee_questions.csv Category Number OUTPUT Answer| eval Correct = if(User_Answer=Answer,1,0) | table Category Number Contestant LatestSubmissionTime Duration Correct unique_searches | sort - Correct + LatestSubmissionTime | streamstats count as row by Category Number| eval Points = if(Correct=1,101-row,0)|eval Bonus=case(unique_searches=1,25,unique_searches<=2,15,unique_searches<=3,5,1=1,0)|eval total_points=Bonus+Points | fields - row | rename Number AS Q\n","queryParameters":{"earliest":"$time_token.earliest$","latest":"$time_token.latest$"}},"name":"results"},"ds_search_5":{"type":"ds.chain","options":{"query":"| stats sum(total_points) as Total_Points sum(Correct) as Total_Correct avg(Duration) as Avg_Duration sum(unique_searches) as Unique_Submissions by Contestant\n| sort - Total_Points","extend":"ds_search_4"},"name":"results"},"ds_search_6":{"type":"ds.chain","options":{"query":"|convert mktime(LatestSubmissionTime) as _time timeformat=\"%m/%d/%Y %T\"| timechart limit=10 fixedrange=f span=5m sum(total_points) as points by Contestant\n| filldown *","extend":"ds_search_4"},"name":"point_timechart"}},"inputs":{"input_1":{"type":"input.timerange","title":"Select A Time Range:","options":{"token":"time_token","defaultValue":"-24h@h,now"}}},"layout":{"type":"absolute","options":{"submitButton":false,"display":"auto-scale","height":1000,"width":1601,"showTitleAndDescription":false},"structure":[{"item":"viz_line_1","type":"block","position":{"x":670,"y":0,"w":870,"h":350}},{"item":"viz_table_1","type":"block","position":{"x":670,"y":640,"w":870,"h":360}},{"item":"viz_table_3","type":"block","position":{"x":670,"y":320,"w":870,"h":320}},{"item":"viz_table_4","type":"block","position":{"x":0,"y":0,"w":670,"h":1000}}],"globalInputs":["input_1"]},"description":"","title":"Leaderboard","defaults":{"dataSources":{"ds.search":{"options":{"queryParameters":{}}}}},"visualizations":{"viz_table_1":{"type":"splunk.table","options":{"wrap":true,"rowNumbers":false,"dataOverlayMode":"heatmap","drilldown":"none","count":8},"dataSources":{"primary":"ds_search_1"},"title":"Top 5 Longest Search Queries"},"viz_table_3":{"type":"splunk.table","options":{"wrap":true,"rowNumbers":false,"dataOverlayMode":"heatmap","drilldown":"none","count":8},"dataSources":{"primary":"ds_search_3"},"title":"Top 5 Longest Running Searches"},"viz_table_4":{"type":"splunk.table","options":{"wrap":true,"rowNumbers":false,"dataOverlayMode":"none","drilldown":"none","count":100},"dataSources":{"primary":"ds_search_5"},"title":"Results"},"viz_line_1":{"type":"splunk.line","options":{"yAxisTitleText":"","nullValueDisplay":"zero","xAxisTitleText":""},"dataSources":{"primary":"ds_search_6"},"title":"Leaders Over Time"}}}]]></definition>
            <assets><![CDATA[{}]]></assets>
        </dashboard>
